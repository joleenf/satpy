sensor_name: visir/viirs

modifiers:
  reflectance_corrector:
    compositor: !!python/name:satpy.composites.viirs.ReflectanceCorrector ''
    prerequisites:
    - satellite_azimuth_angle
    - satellite_zenith_angle
    - solar_azimuth_angle
    - solar_zenith_angle

  sunz_correction:
    compositor: !!python/name:satpy.composites.SunZenithCorrector ''
    prerequisites:
    - solar_zenith_angle

composites:

  true_color:
    compositor: !!python/name:satpy.composites.RGBCompositor ''
    prerequisites:
    - M05: [sunz_correction, reflectance_corrector]
    - M04: [sunz_correction, reflectance_corrector]
    - M03: [sunz_correction, reflectance_corrector]
    standard_name: true_color

  true_color_raw:
    compositor: !!python/name:satpy.composites.RGBCompositor ''
    prerequisites:
    - M05: [sunz_correction]
    - M04: [sunz_correction]
    - M03: [sunz_correction]
    standard_name: true_color

  night_overview:
    compositor: !!python/name:satpy.composites.RGBCompositor ''
    prerequisites:
    - DNB
    - DNB
    - M15
    standard_name: overview

  night_microphysics:
    compositor: !!python/name:satpy.composites.RGBCompositor ''
    prerequisites:
    - DNB
    - M12
    - M15
    standard_name: night_microphysics

  fog:
    compositor: !!python/name:satpy.composites.viirs.VIIRSFog
    prerequisites:
    - I05
    - I04
    standard_name: temperature_difference
  histogram_dnb:
    compositor: !!python/name:satpy.composites.viirs.HistogramDNB
    prerequisites:
    - DNB
    - DNB_SZA
    standard_name: equalized_radiance
    units: "1"
  adaptive_dnb:
    compositor: !!python/name:satpy.composites.viirs.AdaptiveDNB
    prerequisites:
    - DNB
    - DNB_SZA
    adaptive_day: multiple
    adaptive_mixed: always
    adaptive_night: never
    standard_name: equalized_radiance
    units: "1"
  dynamic_dnb:
    compositor: !!python/name:satpy.composites.viirs.ERFDNB
    prerequisites:
    - DNB
    - DNB_SZA
    - DNB_LZA
    - dnb_moon_illumination_fraction
    standard_name: equalized_radiance
    units: "1"
